{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./resource/js/app.js","webpack:///./resource/js/components/AbstractComponent.js","webpack:///./resource/js/components/Films/FilmComponent.js","webpack:///./resource/js/components/Films/FilmMoreInfoComponent.js","webpack:///./resource/js/components/Films/FilmsComponent.js","webpack:///./resource/js/components/Films/LoadMoreButtonComponent.js","webpack:///./resource/js/components/Films/NoFilmsComponent.js","webpack:///./resource/js/components/Films/RenderFilmsComponent.js","webpack:///./resource/js/components/FooterComponent.js","webpack:///./resource/js/components/HeaderComponent.js","webpack:///./resource/js/const.js","webpack:///./resource/js/mock/film.js","webpack:///./resource/js/utils/createElement.js","webpack:///./resource/js/utils/getRandomInteger.js","webpack:///./resource/js/utils/render.js"],"names":[],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;;AClFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyC;AACkB;AACA;AACI;AACY;AACjC;AACuC;AAC9C;;AAEnC;AACA,cAAc,gEAAa,CAAC,iDAAU;;;AAGtC,+DAAS,iBAAiB,mEAAe,2BAA2B;AACpE,+DAAS,iBAAiB,wEAAc,2BAA2B;AACnE,+DAAS,iBAAiB,mEAAe,2BAA2B;;AAEpE;;AAEA,2BAA2B,8EAAoB;AAC/C,iCAAiC;;;;AAIjC;AACA;;AAEA,uBAAuB,iFAAuB;AAC9C;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL,IAAI,+DAAS;AACb;;;AAGA,uBAAuB;;;;;;;;;;;;;ACzCvB;AAAA;AAAA;AAAqD;;AAEtC;AACf;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,4BAA4B,0EAAa;AACzC;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,C;;;;;;;;;;;;AC3BA;AAAA;AAAA;AAAqD;;AAErD;AACA,WAAW,wCAAwC;AACnD;AACA;AACA,4BAA4B,IAAI;AAChC,oCAAoC,KAAK;AACzC,2CAA2C,YAAY;AACvD;AACA,+CAA+C,gBAAgB;AAC/D;AACA;AACA;;AAEe,4BAA4B,0DAAiB;AAC5D;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,C;;;;;;;;;;;;ACxBA;AAAA;AAAA;AAAqD;;AAErD;AACA,WAAW,yDAAyD;AACpE;AACA;AACA,4BAA4B,IAAI;AAChC,oCAAoC,KAAK;AACzC,2CAA2C,YAAY;AACvD,gDAAgD,gBAAgB;AAChE;AACA,+CAA+C,gBAAgB;AAC/D;AACA;AACA;;AAEe,oCAAoC,0DAAiB;AACpE;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,C;;;;;;;;;;;;AC1BA;AAAA;AAAA;AAAqD;;AAErD;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEe,6BAA6B,0DAAiB;AAC7D;AACA;AACA;AACA,C;;;;;;;;;;;;AClBA;AAAA;AAAA;AAAqD;;;AAGrD;AACA;AACA;AACA;AACA;;AAEe,sCAAsC,0DAAiB;AACtE;AACA;AACA;AACA,C;;;;;;;;;;;;ACbA;AAAA;AAAA;AAAqD;;AAErD;AACA;AACA;AACA;AACA;;AAEe,+BAA+B,0DAAiB;AAC/D;AACA;AACA;AACA,C;;;;;;;;;;;;ACZA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA4C;AACC;AACe;AACwC;AAClD;;;AAGnC;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA,gCAAgC,sDAAa;AAC7C;AACA,wCAAwC,8DAAqB;AAC7D;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;;AAGA,QAAQ,+DAAS;AACjB;;AAEA;AACA;AACA;AACA;AACA;;AAEA,6BAA6B,oEAA6B;AAC1D;AACA,SAAS;;AAET,mCAAmC,oEAA6B;AAChE;;AAEA;AACA,+DAA+D,mEAA4B;;AAE3F;AACA;AACA,SAAS;;AAET,oCAAoC,mEAA4B;AAChE;;AAEA;AACA,2CAA2C,iDAAU;AACrD;;AAEA;AACA,QAAQ,+DAAS,6BAA6B,yDAAgB;AAC9D;AACA,C;;;;;;;;;;;;AClEA;AAAA;AAAA;AAAoD;;AAEpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEe,8BAA8B,0DAAiB;AAC9D;AACA;AACA;AACA,C;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAoD;;AAEpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEe,8BAA8B,0DAAiB;AAC9D;AACA;AACA;AACA,C;;;;;;;;;;;;ACvBA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;;;;;;;;;;;;;ACFA;AAAA;AAAA;AAAA;AAA2D;;AAE3D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,uBAAuB,gFAAgB;;AAEvC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,sBAAsB,gFAAgB;;AAEtC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;;;AClDA;AAAA;AAAO;AACP;AACA;;AAEA;AACA,E;;;;;;;;;;;;ACLA;AAAA;AAAA;AACA;AACA;;;;;;;;;;;;;;ACFA;AAAA;AAAA;AAAO;AACP;AACA;AACA;;;;AAIO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,E","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"dist\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./resource/js/app.js\");\n","import {renderDom} from \"./utils/render\";\nimport HeaderComponent from \"./components/HeaderComponent\";\nimport FooterComponent from \"./components/FooterComponent\";\nimport FilmsComponent from \"./components/Films/FilmsComponent\";\nimport RenderFilmsComponent from \"./components/Films/RenderFilmsComponent\";\nimport {generateFilms} from \"./mock/film\";\nimport LoadMoreButtonComponent from \"./components/Films/LoadMoreButtonComponent\";\nimport {FILM_COUNT} from \"./const\";\n\nconst appElement = document.querySelector(`#app`);\nconst films = generateFilms(FILM_COUNT);\n\n\nrenderDom(appElement, new HeaderComponent().getElement(), `before`);                // РЕНДЕРИМ HEADER\nrenderDom(appElement, new FilmsComponent().getElement(), `before`);                 // РЕНДЕРИМ ОБЩЕЕ ПОЛЕ ДЛЯ ФИЛЬМОВ\nrenderDom(appElement, new FooterComponent().getElement(), `before`);                // РЕНДЕРИМ FOOTER\n\nconst listFilmsElement = document.querySelector(`#films-board`);\n\nconst renderingFilms = new RenderFilmsComponent(listFilmsElement, films);\nrenderingFilms.renderFirstPage();       // РЕНДЕРИМ ФИЛЬМЫ\n\n\n\nconst renderLoadMoreButton = () => {\n    if(films.length === 0) return;\n\n    const button = new LoadMoreButtonComponent();\n    const buttonElement = button.getElement();\n\n    buttonElement.addEventListener(`click`, function() {\n        renderingFilms.renderLoadMore();\n        if(renderingFilms.checkingEndFilmList()) {\n            button.removeElement();\n        }\n    });\n\n    renderDom(appElement.querySelector(`#main`), buttonElement, `before`);\n};\n\n\nrenderLoadMoreButton();     // РЕНДЕР КНОПКИ ПОДРУЗКИ ФИЛЬМОВ + СОБЫТИЕ НАЖАНИЯ\n","import {createElement} from \"../utils/createElement\";\n\nexport default class AbstractComponent{\n    constructor() {\n        if(new.target === AbstractComponent){\n            throw new Error(`Нельзя вызвать абстрактный класс AbstractComponent`);\n        }\n\n        this._element = null;\n    }\n\n    getTemplate() {\n        throw new Error(`Нельзя вызвать абстрактный метод getTemplate() из абстрактнного класса AbstractComponent`);\n    }\n\n    getElement(){\n        if(this._element === null) {\n            this._element = createElement(this.getTemplate());\n        }\n\n        return this._element;\n    }\n\n    removeElement(){\n        if(this._element !== null) this._element.remove();\n        this._element = null;\n    }\n}","import AbstractComponent from \"../AbstractComponent\";\n\nconst createFilmTemplate = (film) => {\n    const {img, name, description, date_of_release} = film;\n    return (`\n            <div class=\"main__items-rows__item\">\n                <img src=\"${img}\" alt=\"Film\">\n                <div class=\"name\">${name}</div>\n                <div class=\"description\">${description}</div>\n                <button class=\"more_info\">More info</button>\n                <div class=\"date_of_release\">${date_of_release}</div>\n            </div>\n  `);\n};\n\nexport default class FilmComponent extends AbstractComponent{\n    constructor(film){\n        super();\n        this._film = film;\n    }\n\n    getTemplate(){\n        return createFilmTemplate(this._film)\n    }\n}","import AbstractComponent from \"../AbstractComponent\";\n\nconst template = (film) => {\n    const {img, name, description, moreDescription, date_of_release} = film;\n    return (`\n            <div class=\"main__items-rows__item\">\n                <img src=\"${img}\" alt=\"Film\">\n                <div class=\"name\">${name}</div>\n                <div class=\"description\">${description}</div>\n                <div class=\"more_description\">${moreDescription}</div>\n                <button class=\"close_info\">Close</button>\n                <div class=\"date_of_release\">${date_of_release}</div>\n            </div>\n  `);\n};\n\nexport default class FilmMoreInfoComponent extends AbstractComponent{\n    constructor(film){\n        super();\n\n        this._film = film;\n    }\n\n    getTemplate(){\n        return template(this._film)\n    }\n}","import AbstractComponent from \"../AbstractComponent\";\n\nconst createFilmsTemplate = () => {\n\n    return (`\n            <section id=\"main\">\n                <div class=\"films__title\"><div class=\"title\">Лучшие фильмы</div></div>\n                <div class=\"main__items-rows\" id=\"films-board\">\n                    \n                </div>\n            </section>\n        `);\n};\n\nexport default class FilmsComponent extends AbstractComponent{\n    getTemplate() {\n        return createFilmsTemplate();\n    }\n}","import AbstractComponent from \"../AbstractComponent\";\n\n\nconst template = () => {\n  return (\n      `<button id=\"load-more\">Load more</button>`\n  );\n};\n\nexport default class LoadMoreButtonComponent extends AbstractComponent{\n    getTemplate(){\n        return template();\n    }\n}","import AbstractComponent from \"../AbstractComponent\";\n\nconst template = () => {\n    return (`\n            <div class=\"empty-films\">Films is empty</div>\n    `);\n};\n\nexport default class NoFilmsComponent extends AbstractComponent{\n    getTemplate(){\n        return template()\n    }\n}","import FilmComponent from \"./FilmComponent\";\nimport {renderDom} from \"../../utils/render\";\nimport FilmMoreInfoComponent from \"./FilmMoreInfoComponent\";\nimport {FILM_COUNT, SHOWING_FILMS_FROM_LOAD_MORE, SHOWING_FILMS_FROM_FIRST_PAGE} from \"../../const\";\nimport NoFilmsComponent from \"./NoFilmsComponent\";\n\n\nexport default class RenderFilmsComponent{\n    constructor(filmsListElement, films) {\n        this._films = films;\n        this._filmsListElement = filmsListElement;\n        this._countRendeingFilms = 0;\n    }\n\n    renderPrepareFilm(film){\n        const filmElement = new FilmComponent(film).getElement();\n        const buttonElement = filmElement.querySelector(`.more_info`);\n        const filmMoreInfoElement = new FilmMoreInfoComponent(film).getElement();\n        const filmMoreInfoButtonElement = filmMoreInfoElement.querySelector(`.close_info`);\n\n        const replaceMainInfoToFullInfo = () => {\n            filmElement.replaceWith(filmMoreInfoElement);\n        };\n\n        buttonElement.addEventListener(`click`, replaceMainInfoToFullInfo);\n\n        const replaceFullInfoToMainInfo = () => {\n            filmMoreInfoElement.replaceWith(filmElement);\n        };\n\n        filmMoreInfoButtonElement.addEventListener(`click`, replaceFullInfoToMainInfo);\n\n\n        renderDom(this._filmsListElement, filmElement, `before`)\n    }\n\n    renderFirstPage(){\n        if(this._films.length === 0){\n            this.renderNoFilms();\n            return;\n        }\n\n        this._films.slice(0, SHOWING_FILMS_FROM_FIRST_PAGE).map(film => {\n            this.renderPrepareFilm(film);\n        });\n\n        this._countRendeingFilms = SHOWING_FILMS_FROM_FIRST_PAGE;\n    }\n\n    renderLoadMore(){\n        const lastIndexFilmInLoad = this._countRendeingFilms + SHOWING_FILMS_FROM_LOAD_MORE;\n\n        this._films.slice(this._countRendeingFilms, lastIndexFilmInLoad).map(film => {\n            this.renderPrepareFilm(film);\n        });\n\n        this._countRendeingFilms += SHOWING_FILMS_FROM_LOAD_MORE;\n    }\n\n    checkingEndFilmList(){\n        return this._countRendeingFilms >= FILM_COUNT\n    }\n\n    renderNoFilms(){\n        renderDom(this._filmsListElement, new NoFilmsComponent().getElement(), `before`)\n    }\n}","import AbstractComponent from \"./AbstractComponent\";\n\nconst footerTemplate = () => {\n    return (`\n            <section id=\"footer\">\n                <div class=\"copyright\">Lesson 1 2020</div>\n                <div class=\"author\">Tkachenko Kirill Alex</div>\n            </section>\n        `);\n};\n\nexport default class FooterComponent extends AbstractComponent{\n    getTemplate(){\n        return footerTemplate();\n    }\n}","import AbstractComponent from \"./AbstractComponent\";\n\nconst headerTemplate = () => {\n    return (`\n            <div class=\"header\">\n                <div class=\"header__logo\">\n                    FilmBro\n                </div>\n                <div class=\"header__menu\">\n                    <a class=\"header__menu__item\">Item #1</a>\n                    <a class=\"header__menu__item\">Item #2</a>\n                    <a class=\"header__menu__item\">Item #3</a>\n                    <a class=\"header__menu__item\">Item #4</a>\n                    <a class=\"header__menu__item\">Item #11</a>\n                </div>\n            </div>\n        `);\n};\n\nexport default class HeaderComponent extends AbstractComponent{\n    getTemplate(){\n        return headerTemplate();\n    }\n}","const FILM_COUNT = 20;\nconst SHOWING_FILMS_FROM_FIRST_PAGE = 8;\nconst SHOWING_FILMS_FROM_LOAD_MORE = 8;\n\nexport {FILM_COUNT, SHOWING_FILMS_FROM_FIRST_PAGE, SHOWING_FILMS_FROM_LOAD_MORE};","import {getRandomInteger} from \"../utils/getRandomInteger\";\n\nconst generateDateReleaseFilm = () => {\n    return Date.now()\n};\n\nconst generateImageFilm = () => {\n    const images = [\n        `https://www.film.ru/sites/default/files/styles/thumb_120x170/public/movies/posters/20910053-1161547.jpg`,\n        `https://image.kinokrad.co/p/f/1587564593_bessmertnyy.jpeg`,\n        `https://thumbs.dfs.ivi.ru/storage8/contents/2/b/3fdbf52c5bd856e029ce35b0c39ad8.jpg/234x360/`,\n        `https://filmive-hd.net/uploads/posts/2020-04/1585949785-810005264-glavnyy-geroy-1.jpg`,\n        `https://www.megacritic.ru/media/reviews/photos/original/92/57/e1/smotri-kak-ya-91-1583252241.jpg`,\n        `https://dostfilms.biz/uploads/posts/2020-05/1588770128-1500164518-moy-sozdatel.jpg`\n    ];\n\n    const imageIndex = getRandomInteger(images.length);\n\n    return images[imageIndex];\n};\n\nconst generateNameFilm = () => {\n    const names = [\n        `The Willoughbys`,\n        `Гламурные боссы`,\n        `Лев Яшин. Вратарь моей мечты`,\n        `Красные туфельки и 7 гномов`,\n        `Спрячь бабушку в холодильнике`,\n        `Тридцать`,\n        `Кошки`,\n        `Нотр-Дам`\n    ];\n\n    const nameIndex = getRandomInteger(names.length);\n\n    return names[nameIndex];\n};\n\nconst generateFilm = () => {\n    return {\n        img: generateImageFilm(),\n        name: generateNameFilm(),\n        description: `Example description film :)`,\n        moreDescription: `Suscipit tellus mauris a diam maecenas sed enim ut sem viverra aliquet eget sit amet tellus cras adipiscing enim eu turpis egestas pretium aenean pharetra`,\n        date_of_release: generateDateReleaseFilm()\n    };\n};\n\nconst generateFilms = (count = 1) => {\n    return new Array(count).fill(``).map(generateFilm);\n};\n\nexport {generateFilms, generateFilm};","export const createElement = (template) => {\n    const newElement = document.createElement(`div`);\n    newElement.innerHTML = template;\n\n    return newElement.firstElementChild;\n};","const getRandomInteger = (max) => {\n    return Math.floor(Math.random() * Math.floor(max));\n}\n\nexport {getRandomInteger};","export const render = (selector, html, position = `beforeend`) => {\n    const getElement = document.querySelector(selector);\n    getElement.insertAdjacentHTML(position, html)\n};\n\n\n\nexport const renderDom = (container, element, position) => {\n    switch (position) {\n        case `after`:\n            container.prepend(element);\n            break;\n        case `before`:\n            container.append(element);\n            break;\n    }\n};"],"sourceRoot":""}